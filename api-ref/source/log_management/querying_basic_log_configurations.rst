:original_name: css_03_0097.html

.. _css_03_0097:

Querying Basic Log Configurations
=================================

Function
--------

This API is used to query basic log configurations.

Debugging
---------

You can debug this API in . Automatic authentication is supported.

URI
---

GET /v1.0/{project_id}/clusters/{cluster_id}/logs/settings

.. table:: **Table 1** Path parameters

   +------------+-----------+--------+------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                        |
   +============+===========+========+====================================================================================+
   | project_id | Yes       | String | Project ID. For details, see :ref:`Obtaining a Project ID and Name <css_03_0071>`. |
   +------------+-----------+--------+------------------------------------------------------------------------------------+
   | cluster_id | Yes       | String | ID of the cluster to be queried                                                    |
   +------------+-----------+--------+------------------------------------------------------------------------------------+

Request Parameters
------------------

None

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 2** Response body parameter

   +------------------+-------------------------------------------------------------------------+---------------------------------+
   | Parameter        | Type                                                                    | Description                     |
   +==================+=========================================================================+=================================+
   | logConfiguration | :ref:`logConfiguration <css_03_0097__response_logconfiguration>` object | Log configuration entity object |
   +------------------+-------------------------------------------------------------------------+---------------------------------+

.. _css_03_0097__response_logconfiguration:

.. table:: **Table 3** logConfiguration

   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                       |
   +=======================+=======================+===================================================================================================================================+
   | id                    | String                | Log backup ID, which is generated based on the system UUID.                                                                       |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------+
   | clusterId             | String                | Cluster ID                                                                                                                        |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------+
   | obsBucket             | String                | Name of the OBS bucket for storing logs                                                                                           |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------+
   | agency                | String                | Agency name. You can create an agency to allow CSS to call other cloud services.                                                  |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------+
   | updateAt              | Long                  | Update time. Format: Unix timestamp.                                                                                              |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------+
   | basePath              | String                | Storage path of backup logs in the OBS bucket                                                                                     |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------+
   | autoEnable            | Boolean               | Indicates whether to enable automatic backup.                                                                                     |
   |                       |                       |                                                                                                                                   |
   |                       |                       | -  **true**: enabled                                                                                                              |
   |                       |                       | -  **false**: disabled                                                                                                            |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------+
   | period                | String                | Start time of automatic log backup. When **autoEnable** is set to **false**, the value of this parameter is **null**. Format: GMT |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------+
   | logSwitch             | Boolean               | Indicates whether to enable the log function.                                                                                     |
   |                       |                       |                                                                                                                                   |
   |                       |                       | -  **true**: enabled                                                                                                              |
   |                       |                       | -  **false**: disabled                                                                                                            |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------+

Request Example
---------------

None

Response Example
----------------

**Status code: 200**

The request is processed successfully.

.. code-block::

   {
     "logConfiguration" : {
       "id" : "d455a541-597e-4846-a6be-baad0ea361b1",
       "clusterId" : "4213d908-f5dc-4633-8401-cfd7175fca0c",
       "obsBucket" : "css-auto-test",
       "agency" : "css_obs_agency",
       "updateAt" : 1633663681055,
       "basePath" : "css/log",
       "autoEnable" : false,
       "period" : "00:00 GMT+08:00",
       "logSwitch" : true
     }
   }
