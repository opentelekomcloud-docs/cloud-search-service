:original_name: css_03_0026.html

.. _css_03_0026:

Querying Cluster Details
========================

Function
--------

This API is used to query and display details about a cluster.

URI
---

.. code-block:: text

   GET /v1.0/{project_id}/clusters/{cluster_id}

.. table:: **Table 1** Parameter description

   ========== ========= ====== ================================
   Parameter  Mandatory Type   Description
   ========== ========= ====== ================================
   project_id Yes       String Project ID.
   cluster_id Yes       String ID of the cluster to be queried.
   ========== ========= ====== ================================

Request
-------

None

Response
--------

:ref:`Table 2 <css_03_0026__table372832271213>` describes the response parameters.

.. _css_03_0026__table372832271213:

.. table:: **Table 2** Parameter description

   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                 | Description                                                                                                                                                                                                                                                                                                       |
   +=======================+======================================================================+===================================================================================================================================================================================================================================================================================================================+
   | datastore             | Object                                                               | Type of the data search engine. For details, see :ref:`Table 3 <css_03_0026__table1060833515712>`.                                                                                                                                                                                                                |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | instances             | Array of instances in :ref:`Table 4 <css_03_0026__table6945141813>`. | List of node objects.                                                                                                                                                                                                                                                                                             |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated               | String                                                               | Last modification time of a cluster. The format is **ISO8601: CCYY-MM-DDThh:mm:ss**.                                                                                                                                                                                                                              |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                  | String                                                               | Cluster name.                                                                                                                                                                                                                                                                                                     |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created               | String                                                               | Time when a cluster is created. The format is **ISO8601: CCYY-MM-DDThh:mm:ss**.                                                                                                                                                                                                                                   |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | id                    | String                                                               | Cluster ID.                                                                                                                                                                                                                                                                                                       |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | String                                                               | Return value.                                                                                                                                                                                                                                                                                                     |
   |                       |                                                                      |                                                                                                                                                                                                                                                                                                                   |
   |                       |                                                                      | -  **100**: The operation, such as instance creation, is in progress.                                                                                                                                                                                                                                             |
   |                       |                                                                      | -  **200**: The cluster is available.                                                                                                                                                                                                                                                                             |
   |                       |                                                                      | -  **303**: The cluster is unavailable.                                                                                                                                                                                                                                                                           |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | endpoint              | String                                                               | Indicates the IP address and port number of the user used to access the VPC.                                                                                                                                                                                                                                      |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | actionProgress        | Object                                                               | Cluster operation progress, which indicates the progress of cluster creation and expansion in percentage.                                                                                                                                                                                                         |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | actions               | Array of strings                                                     | Current behavior on a cluster. Value **REBOOTING** indicates that the cluster is being restarted, **GROWING** indicates that capacity expansion is being performed on the cluster, **RESTORING** indicates that the cluster is being restored, and **SNAPSHOTTING** indicates that the snapshot is being created. |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | failed_reasons        | Object                                                               | Failure cause. If the cluster is in the Available state, this parameter is not returned. For details, see :ref:`Table 5 <css_03_0026__table57969612189>`.                                                                                                                                                         |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | httpsEnable           | Boolean                                                              | Communication encryption status.                                                                                                                                                                                                                                                                                  |
   |                       |                                                                      |                                                                                                                                                                                                                                                                                                                   |
   |                       |                                                                      | -  Value **false** indicates that communication encryption is not enabled.                                                                                                                                                                                                                                        |
   |                       |                                                                      | -  Value **true** indicates that communication encryption has been enabled.                                                                                                                                                                                                                                       |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | authorityEnable       | String                                                               | Whether to enable authentication. Available values include **true** and **false**. Authentication is disabled by default. When authentication is enabled, **httpsEnable** must be set to **true**.                                                                                                                |
   |                       |                                                                      |                                                                                                                                                                                                                                                                                                                   |
   |                       |                                                                      | -  Value **true** indicates that authentication is enabled for the cluster.                                                                                                                                                                                                                                       |
   |                       |                                                                      | -  Value **false** indicates that authentication is disabled for the cluster.                                                                                                                                                                                                                                     |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | diskEncrypted         | Boolean                                                              | Whether disks are encrypted.                                                                                                                                                                                                                                                                                      |
   |                       |                                                                      |                                                                                                                                                                                                                                                                                                                   |
   |                       |                                                                      | -  Value **true** indicates that disks are encrypted.                                                                                                                                                                                                                                                             |
   |                       |                                                                      | -  Value **false** indicates that disks are not encrypted.                                                                                                                                                                                                                                                        |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | cmkId                 | String                                                               | Key ID used for disk encryption.                                                                                                                                                                                                                                                                                  |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vpcId                 | String                                                               | VPC ID.                                                                                                                                                                                                                                                                                                           |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | subnetId              | String                                                               | Subnet ID.                                                                                                                                                                                                                                                                                                        |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | securityGroupId       | String                                                               | Security group ID.                                                                                                                                                                                                                                                                                                |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tags                  | Array of tags in :ref:`Table 6 <css_03_0026__table8715643173020>`.   | Tags in a cluster.                                                                                                                                                                                                                                                                                                |
   +-----------------------+----------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _css_03_0026__table1060833515712:

.. table:: **Table 3** **datastore** field data structure description

   ========= ====== =============================
   Parameter Type   Description
   ========= ====== =============================
   type      String Supported type: elasticsearch
   version   String Engine version number.
   ========= ====== =============================

.. _css_03_0026__table6945141813:

.. table:: **Table 4** **instances** field data structure description

   +-----------------------+-----------------------+-----------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                           |
   +=======================+=======================+=======================================================================+
   | type                  | String                | Supported type: ess (indicating the Elasticsearch node)               |
   +-----------------------+-----------------------+-----------------------------------------------------------------------+
   | id                    | String                | Instance ID.                                                          |
   +-----------------------+-----------------------+-----------------------------------------------------------------------+
   | name                  | String                | Instance name.                                                        |
   +-----------------------+-----------------------+-----------------------------------------------------------------------+
   | status                | String                | Instance status.                                                      |
   |                       |                       |                                                                       |
   |                       |                       | -  **100**: The operation, such as instance creation, is in progress. |
   |                       |                       | -  **200**: The instance is available.                                |
   |                       |                       | -  **303**: The instance is unavailable.                              |
   +-----------------------+-----------------------+-----------------------------------------------------------------------+
   | specCode              | String                | Node specifications.                                                  |
   +-----------------------+-----------------------+-----------------------------------------------------------------------+
   | azCode                | String                | AZ to which a node belongs.                                           |
   +-----------------------+-----------------------+-----------------------------------------------------------------------+

.. _css_03_0026__table57969612189:

.. table:: **Table 5** **failed_reasons** field data structure description

   +-----------------------+-----------------------+----------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                          |
   +=======================+=======================+======================================================================+
   | error_code            | String                | Error code.                                                          |
   |                       |                       |                                                                      |
   |                       |                       | -  CSS.6000: indicates that a cluster fails to be created.           |
   |                       |                       | -  CSS.6001: indicates that capacity expansion of a cluster fails.   |
   |                       |                       | -  CSS.6002: indicates that a cluster fails to be restarted.         |
   |                       |                       | -  CSS.6004: indicates that a node fails to be created in a cluster. |
   |                       |                       | -  CSS.6005: indicates that the service fails to be initialized.     |
   +-----------------------+-----------------------+----------------------------------------------------------------------+
   | error_msg             | String                | Detailed error information.                                          |
   +-----------------------+-----------------------+----------------------------------------------------------------------+

.. _css_03_0026__table8715643173020:

.. table:: **Table 6** **tags** field data structure description

   ========= ====== ===========
   Parameter Type   Description
   ========= ====== ===========
   key       String Tag key.
   value     String Tag value.
   ========= ====== ===========

Examples
--------

Example request

.. code-block:: text

   GET /v1.0/6204a5bd270343b5885144cf9c8c158d/clusters/5c77b71c-5b35-4f50-8984-76387e42451a

Example response

.. code-block::

   {
       "datastore": {
           "type": "elasticsearch",
           "version": "7.6.2"
       },
       "instances": [
           {
               "status": "200",
               "type": "ess",
               "id": "c2f29369-1985-4028-8e72-89cbb96a299d",
               "name": "css-5977-ess-esn-1-1",
               "specCode": "css.xlarge.2",
               "azCode": "eu-de-01"
           }
       ],
       "updated": "2020-12-03T07:02:08",
       "name": "css-5977",
       "created": "2020-12-03T07:02:08",
       "id": "bc8ea974-77ef-46de-b011-918b0fdedb45",
       "status": "200",
       "endpoint": "10.16.0.88:9200",
       "vpcId": "e7daa617-3ee6-4ff1-b042-8cda4a006a46",
       "subnetId": "6253dc44-24cd-4c0a-90b3-f965e7f4dcd4",
       "securityGroupId": "d478041e-bcbe-4d69-a492-b6122d774b7f",
       "httpsEnable": true,
       "authorityEnable": true,
       "diskEncrypted": false,
       "actionProgress": {},
       "actions": [],
       "tags": []
   }

Status Code
-----------

:ref:`Table 7 <css_03_0026__table10194172917151>` describes the status code.

.. _css_03_0026__table10194172917151:

.. table:: **Table 7** Status code

   +-----------------------+-----------------------+-----------------------------------------------------------------+
   | Status Code           | Code                  | Status Code Description                                         |
   +=======================+=======================+=================================================================+
   | 400                   | BadRequest            | Invalid request.                                                |
   |                       |                       |                                                                 |
   |                       |                       | The client should not repeat the request without modifications. |
   +-----------------------+-----------------------+-----------------------------------------------------------------+
   | 404                   | NotFound              | The requested resource cannot be found.                         |
   |                       |                       |                                                                 |
   |                       |                       | The client should not repeat the request without modifications. |
   +-----------------------+-----------------------+-----------------------------------------------------------------+
   | 200                   | OK                    | The request is processed successfully.                          |
   +-----------------------+-----------------------+-----------------------------------------------------------------+
