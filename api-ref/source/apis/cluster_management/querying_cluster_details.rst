:original_name: ShowClusterDetail.html

.. _ShowClusterDetail:

Querying Cluster Details
========================

Function
--------

This API is used to query and display the details of a cluster.

URI
---

GET /v1.0/{project_id}/clusters/{cluster_id}

.. table:: **Table 1** Path Parameters

   +------------+-----------+--------+----------------------------------------------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                                                                      |
   +============+===========+========+==================================================================================================================================+
   | project_id | Yes       | String | Project ID. For details about how to obtain the project ID and name, see :ref:`Obtaining the Project ID and Name <css_03_0071>`. |
   +------------+-----------+--------+----------------------------------------------------------------------------------------------------------------------------------+
   | cluster_id | Yes       | String | ID of the cluster you want to query.                                                                                             |
   +------------+-----------+--------+----------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

None

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 2** Response body parameters

   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                                                | Description                                                                                                                                                                                                                                                                  |
   +=======================+=====================================================================================================+==============================================================================================================================================================================================================================================================================+
   | datastore             | :ref:`ClusterDetailDatastore <showclusterdetail__response_clusterdetaildatastore>` object           | Search engine.                                                                                                                                                                                                                                                               |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | instances             | Array of :ref:`ClusterDetailInstances <showclusterdetail__response_clusterdetailinstances>` objects | List of node objects.                                                                                                                                                                                                                                                        |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | publicKibanaResp      | :ref:`publicKibanaRespBody <showclusterdetail__response_publickibanarespbody>` object               | Kibana public network access information.                                                                                                                                                                                                                                    |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | elbWhiteList          | :ref:`elbWhiteListResp <showclusterdetail__response_elbwhitelistresp>` object                       | Public network access information.                                                                                                                                                                                                                                           |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated               | String                                                                                              | Last modification time of a cluster. The format is **ISO8601: CCYY-MM-DDThh:mm:ss**.                                                                                                                                                                                         |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                  | String                                                                                              | Cluster name                                                                                                                                                                                                                                                                 |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | publicIp              | String                                                                                              | Public IP address and port number.                                                                                                                                                                                                                                           |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created               | String                                                                                              | Cluster creation time. The format is **ISO8601: CCYY-MM-DDThh:mm:ss**.                                                                                                                                                                                                       |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | id                    | String                                                                                              | Cluster ID.                                                                                                                                                                                                                                                                  |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | String                                                                                              | Cluster status.                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | -  **100**: An operation, such as creation, is in progress.                                                                                                                                                                                                                  |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | -  **200**: Available.                                                                                                                                                                                                                                                       |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | -  **303**: Unavailable, for example, due to a creation failure.                                                                                                                                                                                                             |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | endpoint              | String                                                                                              | IPv4 address and port number accessed from the cluster's private network. [If the cluster type is KooSearch, this field indicates the internal address and port number for accessing the knowledge management service.] (tag:white)                                          |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vpcId                 | String                                                                                              | VPC ID                                                                                                                                                                                                                                                                       |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | subnetId              | String                                                                                              | Subnet ID                                                                                                                                                                                                                                                                    |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | securityGroupId       | String                                                                                              | Security group ID.                                                                                                                                                                                                                                                           |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vpcepIp               | String                                                                                              | Endpoint IP address.                                                                                                                                                                                                                                                         |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vpcepIpv6Address      | String                                                                                              | IPv6 address of the VPC endpoint.                                                                                                                                                                                                                                            |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | bandwidthSize         | Integer                                                                                             | Public network bandwidth. Unit: Mbit/s                                                                                                                                                                                                                                       |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | httpsEnable           | Boolean                                                                                             | Communication encryption status.                                                                                                                                                                                                                                             |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | -  **false**: Communication encryption is not enabled.                                                                                                                                                                                                                       |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | -  **true**: Communication encryption is enabled.                                                                                                                                                                                                                            |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | diskEncrypted         | Boolean                                                                                             | Whether disks are encrypted.                                                                                                                                                                                                                                                 |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | -  **true**: Disks are encrypted.                                                                                                                                                                                                                                            |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | -  **false**: Disk are not encrypted.                                                                                                                                                                                                                                        |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | authorityEnable       | Boolean                                                                                             | Whether to enable authentication. The value can be **true** or **false**. Authentication is disabled by default.                                                                                                                                                             |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | -  **true**: Authentication is enabled for the cluster.                                                                                                                                                                                                                      |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | -  **false**: Authentication is not enabled for the cluster.                                                                                                                                                                                                                 |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | backupAvailable       | Boolean                                                                                             | Whether the snapshot function is enabled.                                                                                                                                                                                                                                    |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | -  **true**: The snapshot function is enabled.                                                                                                                                                                                                                               |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | -  **false**: The snapshot function is disabled.                                                                                                                                                                                                                             |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | actionProgress        | Object                                                                                              | Cluster behavior progress, which shows the progress of cluster creation and scaling in percentage.                                                                                                                                                                           |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | actions               | Array of strings                                                                                    | Current behavior of a cluster. **REBOOTING** indicates that the cluster is being restarted. **GROWING** indicates that the cluster is being scaled. **RESTORING** indicates that the cluster is being restored. **SNAPSHOTTING** indicates that a snapshot is being created. |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enterpriseProjectId   | String                                                                                              | ID of the enterprise project that a cluster belongs to.                                                                                                                                                                                                                      |
   |                       |                                                                                                     |                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                     | If the user of the cluster does not enable the enterprise project, the setting of this parameter is not returned.                                                                                                                                                            |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tags                  | Array of :ref:`ClusterDetailTags <showclusterdetail__response_clusterdetailtags>` objects           | Cluster tag.                                                                                                                                                                                                                                                                 |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | failedReason          | :ref:`ClusterDetailFailedReasons <showclusterdetail__response_clusterdetailfailedreasons>` object   | Failure cause. If the cluster is in the available status, this parameter is not returned.                                                                                                                                                                                    |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | bandwidthResourceId   | String                                                                                              | ID of the resource accessible from the public network.                                                                                                                                                                                                                       |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ipv6Endpoint          | String                                                                                              | IPv6 address and port number accessible from the cluster's private network.                                                                                                                                                                                                  |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | supportVpcep          | Boolean                                                                                             | Whether the VPCEP service can be enabled for the current cluster.                                                                                                                                                                                                            |
   +-----------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _showclusterdetail__response_clusterdetaildatastore:

.. table:: **Table 3** ClusterDetailDatastore

   +---------------------+---------+----------------------------------------------------------------------------------------------------------------------+
   | Parameter           | Type    | Description                                                                                                          |
   +=====================+=========+======================================================================================================================+
   | type                | String  | Engine type. Its value can be elasticsearch or logstash.                                                             |
   +---------------------+---------+----------------------------------------------------------------------------------------------------------------------+
   | version             | String  | Version of the CSS cluster engine. For details, see the supported versions in :ref:`Before You Start <css_03_0001>`. |
   +---------------------+---------+----------------------------------------------------------------------------------------------------------------------+
   | supportSecuritymode | Boolean | The security mode is supported.                                                                                      |
   +---------------------+---------+----------------------------------------------------------------------------------------------------------------------+
   | subVersion          | String  | Cluster image version.                                                                                               |
   +---------------------+---------+----------------------------------------------------------------------------------------------------------------------+
   | isEosCluster        | Boolean | Whether the cluster image version has reached EOS. The value can be **true** or **false**.                           |
   +---------------------+---------+----------------------------------------------------------------------------------------------------------------------+

.. _showclusterdetail__response_clusterdetailinstances:

.. table:: **Table 4** ClusterDetailInstances

   +-----------------------+---------------------------------------------------------------------------------------+------------------------------------------------------------------+
   | Parameter             | Type                                                                                  | Description                                                      |
   +=======================+=======================================================================================+==================================================================+
   | status                | String                                                                                | Node status value.                                               |
   |                       |                                                                                       |                                                                  |
   |                       |                                                                                       | -  **100**: An operation, such as creation, is in progress.      |
   |                       |                                                                                       |                                                                  |
   |                       |                                                                                       | -  **200**: Available.                                           |
   |                       |                                                                                       |                                                                  |
   |                       |                                                                                       | -  **303**: Unavailable, for example, due to a creation failure. |
   +-----------------------+---------------------------------------------------------------------------------------+------------------------------------------------------------------+
   | resourceId            | String                                                                                | Instance resource ID                                             |
   +-----------------------+---------------------------------------------------------------------------------------+------------------------------------------------------------------+
   | type                  | String                                                                                | Type of the current node.                                        |
   +-----------------------+---------------------------------------------------------------------------------------+------------------------------------------------------------------+
   | id                    | String                                                                                | Instance ID.                                                     |
   +-----------------------+---------------------------------------------------------------------------------------+------------------------------------------------------------------+
   | name                  | String                                                                                | Instance name.                                                   |
   +-----------------------+---------------------------------------------------------------------------------------+------------------------------------------------------------------+
   | specCode              | String                                                                                | Node specifications.                                             |
   +-----------------------+---------------------------------------------------------------------------------------+------------------------------------------------------------------+
   | azCode                | String                                                                                | AZ of a node.                                                    |
   +-----------------------+---------------------------------------------------------------------------------------+------------------------------------------------------------------+
   | privateIp             | String                                                                                | Instance IP address.                                             |
   +-----------------------+---------------------------------------------------------------------------------------+------------------------------------------------------------------+
   | volume                | :ref:`ShowClusterVolumeRsp <showclusterdetail__response_showclustervolumersp>` object | Instance disk information                                        |
   +-----------------------+---------------------------------------------------------------------------------------+------------------------------------------------------------------+

.. _showclusterdetail__response_showclustervolumersp:

.. table:: **Table 5** ShowClusterVolumeRsp

   =========== ================ =========================
   Parameter   Type             Description
   =========== ================ =========================
   type        String           Instance disk type
   size        Integer          Instance disk size
   resourceIds Array of strings Instance disk resource ID
   =========== ================ =========================

.. _showclusterdetail__response_publickibanarespbody:

.. table:: **Table 6** publicKibanaRespBody

   +---------------------+-------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | Parameter           | Type                                                                                      | Description                                            |
   +=====================+===========================================================================================+========================================================+
   | eipSize             | Integer                                                                                   | Bandwidth range. Unit: Mbit/s                          |
   +---------------------+-------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | elbWhiteListResp    | :ref:`kibanaElbWhiteListResp <showclusterdetail__response_kibanaelbwhitelistresp>` object | Kibana public network access information.              |
   +---------------------+-------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | publicKibanaIp      | String                                                                                    | Specifies the IP address for accessing Kibana.         |
   +---------------------+-------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | bandwidthResourceId | String                                                                                    | Resource ID corresponding to the Kibana public network |
   +---------------------+-------------------------------------------------------------------------------------------+--------------------------------------------------------+

.. _showclusterdetail__response_kibanaelbwhitelistresp:

.. table:: **Table 7** kibanaElbWhiteListResp

   +-----------------------+-----------------------+---------------------------------------------------+
   | Parameter             | Type                  | Description                                       |
   +=======================+=======================+===================================================+
   | enableWhiteList       | Boolean               | Whether the Kibana access control is enabled.     |
   |                       |                       |                                                   |
   |                       |                       | -  **true**: Access control is enabled.           |
   |                       |                       |                                                   |
   |                       |                       | -  **false**: Access control is disabled.         |
   +-----------------------+-----------------------+---------------------------------------------------+
   | whiteList             | String                | Whitelist of public network for accessing Kibana. |
   +-----------------------+-----------------------+---------------------------------------------------+

.. _showclusterdetail__response_elbwhitelistresp:

.. table:: **Table 8** elbWhiteListResp

   +-----------------------+-----------------------+----------------------------------------------------------+
   | Parameter             | Type                  | Description                                              |
   +=======================+=======================+==========================================================+
   | enableWhiteList       | Boolean               | Whether the public network access control is enabled.    |
   |                       |                       |                                                          |
   |                       |                       | -  **true**: Public network access control is enabled.   |
   |                       |                       |                                                          |
   |                       |                       | -  **false**: Public network access control is disabled. |
   +-----------------------+-----------------------+----------------------------------------------------------+
   | whiteList             | String                | Whitelist for public network access.                     |
   +-----------------------+-----------------------+----------------------------------------------------------+

.. _showclusterdetail__response_clusterdetailtags:

.. table:: **Table 9** ClusterDetailTags

   ========= ====== ===========
   Parameter Type   Description
   ========= ====== ===========
   key       String Tag key.
   value     String Tag value.
   ========= ====== ===========

.. _showclusterdetail__response_clusterdetailfailedreasons:

.. table:: **Table 10** ClusterDetailFailedReasons

   +-----------------------+-----------------------+-----------------------------------------------------------+
   | Parameter             | Type                  | Description                                               |
   +=======================+=======================+===========================================================+
   | errorCode             | String                | Error code.                                               |
   |                       |                       |                                                           |
   |                       |                       | -  **CSS.6000**: A cluster fails to be created.           |
   |                       |                       |                                                           |
   |                       |                       | -  **CSS.6001**: A cluster fails to be scaled out.        |
   |                       |                       |                                                           |
   |                       |                       | -  **CSS.6002**: A cluster fails to be restarted.         |
   |                       |                       |                                                           |
   |                       |                       | -  **CSS.6004**: A node fails to be created in a cluster. |
   |                       |                       |                                                           |
   |                       |                       | -  **CSS.6005**: A service fails to be initialized.       |
   +-----------------------+-----------------------+-----------------------------------------------------------+
   | errorMsg              | String                | Error details.                                            |
   +-----------------------+-----------------------+-----------------------------------------------------------+

Example Requests
----------------

None

Example Responses
-----------------

**Status code: 200**

Request succeeded.

.. code-block::

   {
     "datastore" : {
       "type" : "elasticsearch",
       "version" : "7.10.2",
       "subVersion" : "7.10.2_24.3.0_0827",
       "isEosCluster" : false,
       "supportSecuritymode" : false
     },
     "instances" : [ {
       "status" : "200",
       "type" : "ess",
       "id" : "{INSTANCE_ID}",
       "name" : "css-8bc5-ess-esn-1-1",
       "specCode" : "ess.spec-4u8g",
       "azCode" : "{AZ_CODE}",
       "volume" : {
         "type" : "ULTRAHIGH",
         "size" : 40,
         "resourceIds" : [ "{RESOURCE_ID}" ]
       },
       "privateIp" : "192.168.0.122",
       "resourceId" : "{RESOURCE_ID}"
     } ],
     "publicKibanaResp" : {
       "eipSize" : 10,
       "publicKibanaIp" : "100.95.152.28",
       "elbWhiteListResp" : null,
       "bandwidthResourceId" : "18bec13f-5cc1-4631-867f-33505d15be12"
     },
     "elbWhiteList" : {
       "whiteList" : "",
       "enableWhiteList" : false
     },
     "updated" : "2023-10-09T02:07:13",
     "name" : "css-8bc5",
     "publicIp" : "100.85.222.202",
     "created" : "2023-10-09T02:07:13",
     "id" : "{CLUSTER_ID}",
     "status" : "200",
     "endpoint" : "192.168.0.122:9200",
     "vpcId" : "{VPC_ID}",
     "subnetId" : "{SUBNET_ID}",
     "securityGroupId" : "{SECURITY_GROUP_ID}",
     "bandwidthResourceId" : "{BANDWIDTH_RESOURCE_ID}",
     "bandwidthSize" : 3,
     "httpsEnable" : true,
     "authorityEnable" : true,
     "diskEncrypted" : false,
     "backupAvailable" : false,
     "actionProgress" : { },
     "actions" : [ ],
     "enterpriseProjectId" : "0",
     "tags" : [ ],
     "period" : true,
     "supportVpcep" : true
   }

Status Codes
------------

+-----------------------------------+--------------------------------------------+
| Status Code                       | Description                                |
+===================================+============================================+
| 200                               | Request succeeded.                         |
+-----------------------------------+--------------------------------------------+
| 400                               | Invalid request.                           |
|                                   |                                            |
|                                   | Modify the request before retry.           |
+-----------------------------------+--------------------------------------------+
| 404                               | The requested resource could not be found. |
|                                   |                                            |
|                                   | Modify the request before retry.           |
+-----------------------------------+--------------------------------------------+

Error Codes
-----------

See :ref:`Error Codes <css_03_0076>`.
